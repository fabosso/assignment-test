{
  "name": "Python Assignment Environment",
  "image": "mcr.microsoft.com/devcontainers/python:3.11",
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-python.flake8"
      ],
      "settings": {
        // Disable extension management
        "extensions.autoCheckUpdates": false,
        "extensions.autoUpdate": false,
        "extensions.ignoreRecommendations": true,
        // Completely disable Copilot
        "github.copilot.enable": {
          "*": false,
          "plaintext": false,
          "markdown": false,
          "scminput": false,
          "yaml": false,
          "python": false
        },
        // Block Copilot Chat
        "github.copilot.chat.enabled": false,
        "github.copilot.voice.mode": "off",
        // Disable all inline suggestions
        "editor.inlineSuggest.enabled": false,
        "editor.suggest.showMethods": false,
        "editor.suggest.showFunctions": false,
        "editor.suggest.showVariables": false,
        "editor.suggest.showClasses": false,
        "editor.suggest.showInterfaces": false,
        // Disable parameter hints and hover
        "editor.parameterHints.enabled": false,
        "editor.hover.enabled": false,
        // Disable all completion providers
        "editor.suggestOnTriggerCharacters": false,
        "editor.acceptSuggestionOnCommitCharacter": false,
        "editor.acceptSuggestionOnEnter": "off",
        "editor.quickSuggestions": {
          "other": false,
          "comments": false,
          "strings": false
        },
        // Python-specific disabling
        "python.analysis.autoImportCompletions": false,
        "python.analysis.includeAllSymbols": false,
        "python.analysis.autoComplete.extraPaths": [],
        // Enable only syntax checking
        "python.linting.enabled": true,
        "python.linting.flake8Enabled": true,
        "python.languageServer": "Pylance",
        "python.analysis.typeCheckingMode": "basic",
        // Hide extension views
        "workbench.activityBar.visible": true,
        "workbench.panel.defaultLocation": "bottom",

        // Disable marketplace
        "extensions.webWorker": false
      }
    }
  },
  // Block unwanted extensions from being installed
  "settings": {
    "extensions.ignoreRecommendations": true,
    "extensions.showRecommendationsOnlyOnDemand": true
  },
  // Explicitly set unwanted extensions
  "unwantedRecommendations": [
    "GitHub.copilot",
    "GitHub.copilot-chat",
    "GitHub.copilot-labs",
    "TabNine.tabnine-vscode",
    "Codeium.codeium"
  ],
  "postCreateCommand": "bash .devcontainer/postCreateCommand.sh",
  "features": {
    "ghcr.io/devcontainers/features/python:1": {
      "version": "3.11"
    }
  }
}